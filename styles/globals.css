@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

:root {
  --font-size: 14px;
  
  /* Refined Color Palette - Blue, Grey, Purple Accent */
  --background: 241 245 249;
  --background-solid: #f1f5f9;
  --foreground: 30 41 59;
  
  /* Card System with Glassmorphism */
  --card: 255 255 255;
  --card-foreground: 30 41 59;
  
  /* Primary Blue Colors */
  --primary: 59 130 246;
  --primary-solid: #3b82f6;
  --primary-light: #93c5fd;
  --primary-dark: #1d4ed8;
  --primary-foreground: 255 255 255;
  
  /* Secondary Blue Variations */
  --secondary: 100 116 139;
  --secondary-solid: #64748b;
  --secondary-light: #94a3b8;
  --secondary-dark: #334155;
  --secondary-foreground: 255 255 255;
  
  /* Purple Accent Color */
  --accent: 168 85 247;
  --accent-solid: #a855f7;
  --accent-light: #c084fc;
  --accent-dark: #7c3aed;
  --accent-foreground: 255 255 255;
  
  /* Success/Completion (Green - only for completion) */
  --success: 34 197 94;
  --success-solid: #22c55e;
  --success-light: #86efac;
  --success-dark: #16a34a;
  
  /* Grey Variations */
  --muted: 248 250 252;
  --muted-dark: #e2e8f0;
  --muted-foreground: 100 116 139;
  
  /* UI Elements */
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  
  /* Borders & Inputs */
  --border: 226 232 240;
  --input: 255 255 255;
  --ring: 59 130 246;
  
  /* Popover */
  --popover: 255 255 255;
  --popover-foreground: 30 41 59;
  
  /* Typography */
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  /* Spacing & Layout */
  --radius: 0.75rem;
  
  /* Chart Colors - Blue/Grey/Purple palette */
  --chart-1: #3b82f6;
  --chart-2: #64748b;
  --chart-3: #a855f7;
  --chart-4: #1d4ed8;
  --chart-5: #475569;
}

.dark {
  --background: 37 37 37;
  --foreground: 251 251 251;
  --card: 37 37 37;
  --card-foreground: 251 251 251;
  --popover: 37 37 37;
  --popover-foreground: 251 251 251;
  --primary: 251 251 251;
  --primary-foreground: 53 53 53;
  --secondary: 68 68 68;
  --secondary-foreground: 251 251 251;
  --muted: 68 68 68;
  --muted-foreground: 181 181 181;
  --accent: 68 68 68;
  --accent-foreground: 251 251 251;
  --destructive: 220 38 38;
  --destructive-foreground: 252 165 165;
  --border: 68 68 68;
  --input: 68 68 68;
  --ring: 112 112 112;
  --chart-1: 139 92 246;
  --chart-2: 6 182 212;
  --chart-3: 249 202 36;
  --chart-4: 224 86 253;
  --chart-5: 249 115 22;
}

/* Base Styles */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
}

/* Custom Medical-themed Components */
@layer components {
  
  /* Glassmorphism Card */
  .glass-card {
    @apply bg-white/95 backdrop-blur-md border border-slate-300/15 shadow-lg rounded-2xl transition-all duration-300;
  }
  
  .glass-card:hover {
    @apply -translate-y-0.5 shadow-xl;
  }
  
  /* 3D Progress Ring */
  .progress-ring {
    @apply relative w-32 h-32;
    transform-style: preserve-3d;
  }
  
  .progress-ring::before {
    content: '';
    @apply absolute inset-0 rounded-full;
    background: conic-gradient(var(--primary-solid) 0%, var(--muted-dark) 0%);
    mask: radial-gradient(circle at center, transparent 65%, black 65%);
    -webkit-mask: radial-gradient(circle at center, transparent 65%, black 65%);
    animation: progress-glow 2s ease-out;
  }
  
  /* Gradient Button */
  .gradient-button {
    @apply bg-gradient-to-r from-blue-500 to-blue-600 text-white border-0 rounded-xl px-6 py-3 font-medium cursor-pointer transition-all duration-300 relative overflow-hidden;
  }
  
  .gradient-button::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 transition-opacity duration-300;
  }
  
  .gradient-button:hover::before {
    @apply opacity-100;
  }
  
  .gradient-button:hover {
    @apply -translate-y-0.5 shadow-lg shadow-blue-500/30;
  }
  
  /* Refined Success Celebration Particles */
  .celebration-particle {
    @apply absolute w-1.5 h-1.5 bg-green-500 rounded-full;
    animation: particle-float 2s ease-out forwards;
  }
  
  .celebration-particle:nth-child(2n) {
    @apply bg-purple-500;
    animation-delay: 0.15s;
  }
  
  .celebration-particle:nth-child(3n) {
    @apply bg-blue-500;
    animation-delay: 0.3s;
  }
  
  /* Refined Medical Checkbox */
  .medical-checkbox {
    @apply relative w-6 h-6 border-2 border-blue-500 rounded-md bg-slate-50 cursor-pointer transition-all duration-300;
  }
  
  .medical-checkbox:checked {
    @apply bg-green-500 border-green-500 scale-105;
  }
  
  .medical-checkbox:checked::after {
    content: 'âœ“';
    @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white font-bold;
  }
  
  /* Refined Stage Progress Indicator */
  .stage-indicator {
    @apply relative px-6 py-4 rounded-2xl bg-white border border-slate-200 transition-all duration-300;
  }
  
  .stage-indicator.active {
    @apply bg-blue-50/40 border-blue-500 shadow-md shadow-blue-500/20;
  }
  
  .stage-indicator::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-0.5 rounded-t-2xl bg-gradient-to-r from-blue-500 to-blue-600 opacity-0 transition-opacity duration-300;
  }
  
  .stage-indicator.active::before {
    @apply opacity-100;
  }
  
  /* Loading Skeleton with Medical Theme */
  .medical-skeleton {
    @apply bg-gradient-to-r from-slate-200 via-white/50 to-slate-200 rounded-xl;
    background-size: 200% 100%;
    animation: skeleton-wave 1.5s ease-in-out infinite;
  }
  
  /* Progress Bar Enhancement */
  .medical-progress {
    @apply relative bg-slate-200 rounded-full overflow-hidden h-3;
  }
  
  .medical-progress::before {
    content: '';
    @apply absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-700;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
  }
  
  .medical-progress.success::before {
    @apply bg-gradient-to-r from-green-500 to-green-600;
    box-shadow: 0 0 10px rgba(34, 197, 94, 0.3);
  }
  
  /* Dashboard Stats Cards */
  .stats-card {
    @apply bg-white border border-slate-200 rounded-2xl p-5 transition-all duration-300 relative overflow-hidden;
  }
  
  /* Settings Dropdown Menu */
  .settings-dropdown {
    @apply absolute right-0 top-full mt-1 bg-white border border-slate-200/50 rounded-2xl shadow-2xl py-1 min-w-52 z-50 opacity-100 transform translate-y-0 transition-all duration-200;
  }
  
  .stats-card::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-blue-600 transform -translate-x-full transition-transform duration-300;
  }
  
  .stats-card:hover::before {
    @apply translate-x-0;
  }
  
  .stats-card:hover {
    @apply -translate-y-1 shadow-lg;
  }
  
  /* Smooth Scroll */
  .smooth-scroll {
    scroll-behavior: smooth;
  }
  
  /* Custom scrollbar styling for webkit browsers */
  ::-webkit-scrollbar {
    @apply w-1.5;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-slate-200/30 rounded;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-slate-400/30 rounded;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400/50;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      @apply text-2xl font-medium leading-relaxed;
    }

    h2 {
      @apply text-xl font-medium leading-relaxed;
    }

    h3 {
      @apply text-lg font-medium leading-relaxed;
    }

    h4 {
      @apply text-base font-medium leading-relaxed;
    }

    p {
      @apply text-base font-normal leading-relaxed;
    }

    label {
      @apply text-base font-medium leading-relaxed;
    }

    button {
      @apply text-base font-medium leading-relaxed;
    }

    input {
      @apply text-base font-normal leading-relaxed;
    }
  }
}

html {
  font-size: var(--font-size);
}